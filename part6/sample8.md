# Sample project 8

Open terminal and run

```bash
pyenv shell 2.7.13

cd ~/Desktop/venvs

virtualenv sample8

source ~/Desktop/venvs/sample8/bin/activate

brew install libxml2
brew install libxslt
brew link libxml2 --force
brew link libxslt --force
pip install lxml html5lib pandas beautifulsoup4

mkdir ~/Desktop/venvs/sample8/src
cd ~/Desktop/venvs/sample8/src
```

Create a file named main.py with following content:

```py
import pandas as pd
url = 'http://www.stockq.org/market/asia.php'
table = pd.read_html(url)[4]
table = table.drop(table.columns[[0,1,2,3,4]],axis=0)
table = table.drop(table.columns[9:296],axis=1)
print(table)
```

Run

```bash
python main.py
```

Output

```
                                                    0         1        2  \
5                                                 紐西蘭  7158.144     6.16
6                                                澳洲股市   5840.80    13.30
7                                                東證二部   5932.98   -29.85
8                                              JASDAQ    132.79    -0.33
9                                                韓國股市   2164.58    14.50
10                                               台灣加權   9908.69    70.86
11                                               台灣店頭    137.62     1.49
12                                               上海B股   349.182    -0.95
13                                               深圳A股  2123.399   -17.39
14                                               深圳B股  1150.013    -3.39
15                                              滬深300   3445.81   -35.70
16                                               深證成指  10515.41  -109.01
17                                               中小板指    6759.8   -80.14
18                                               創業板指   1949.66   -17.07
19                                               香港紅籌   4027.45    20.81
20                                              香港創業板    352.62     0.69
21                                               蒙古股市  13023.73   -54.96
22                                                新加坡   3169.38     5.86
23                                               越南股市    710.54    -4.38
24                                               泰國股市   1560.98     3.93
25                                                菲律賓   7345.02    66.42
26                                               馬來西亞    1745.2     8.06
27                                               印尼股市  5540.432    22.19
28                                               印度股市  29648.99    63.14
29                                               巴基斯坦   32810.1   105.06
30  google_ad_client = "ca-pub-9803646600609510"; ...       NaN      NaN

         3         4         5         6       7      8
5    0.09%  7158.144  6658.980  6668.870   4.02%  18:03
6    0.23%   5855.10   5820.60   5827.50   2.13%  17:51
7   -0.50%   5981.61   5930.54    5977.6  13.44%  15:00
8   -0.25%    133.33    132.66    133.03   8.21%  15:00
9    0.67%   2164.58   1981.17   1988.46   6.82%  18:01
10   0.72%   9908.69   8676.87   8745.42   7.08%  13:49
11   1.09%    137.62    129.73    130.96   9.94%  13:49
12  -0.27%   350.632   348.578    350.21   2.16%  15:29
13  -0.81%  2148.876  2123.264  2141.667   3.08%  15:00
14  -0.29%  1155.724  1147.714  1154.022   1.98%  15:00
15  -1.03%   3445.81  3185.497  3211.496   4.15%  15:01
16  -1.03%  10515.41  10263.56  10346.56   3.19%  15:00
17  -1.17%   6893.46    6759.8   6825.69   4.44%  15:00
18  -0.87%   2270.14   1949.66   2234.22  -0.63%  15:00
19   0.52%   4031.09   3995.55   4025.29  12.25%  03/17
20   0.20%    422.75    352.62    422.37  -0.39%  16:23
21  -0.42%  13023.73  10688.74  10783.67   4.56%  14:10
22   0.19%   3169.38   2846.93   2875.19   9.35%  17:10
23  -0.61%    710.54    572.08    573.93   6.98%  15:01
24   0.25%   1560.98   1405.64   1407.36   1.17%  17:08
25   0.91%   7360.05   7262.69   7307.48   7.37%  15:20
26   0.46%    1745.2   1714.21   1715.38   6.67%  17:05
27   0.40%  5540.432  4826.496  4836.625   4.60%  16:06
28   0.21%  29648.99  25156.82  25322.10  11.40%  17:37
29   0.32%   32810.1  22546.64  22546.64   0.00%  14:38
30     NaN       NaN       NaN       NaN     NaN    NaN
```

References

* https://www.jerrynest.com/python-pandas-get-data/
